Бот, отслеживающий прогресс. 

Файлы:


Структура БД:
БД для записи переписки пользователя с ботом:
1) Как долго должна храниться переписка пользователя с ботом?
2) Какие таблицы нужны?
3) 


1) Одного дня (сутки) хватит
2) Таблица conversations
Поля id, chat_id (или именно как-то id пользователя лучше?), message, answered

А какие вообще будет flows?
1) Flow по добавлению сущности - createEntityFlow
2) Flow по добавлению записи - addRecordFlow

А какие будут всего вопросы? Скорее всего ведь их тоже будет ограниченное количество. Может, 
тогда и хранить название flow в записях таблицы conversations не надо. А, может, и надо

Flow по добавлению сущности: 
1-й вариант:
1) Пользователь нажимает "Начать". Бот получает сообщение, в котором ...
(структура. Как он из этого сообщения определит конкретного пользователя - из from.id)

 . Оно обрабатывается в файле WebhookController.php
2) Бот отправляет сообщение "Введите название"
3) Пользователь пишет название сущности, в поле question пишется вопрос бота про название сущности,
в поле answer заносится ответ пользователя, после чего он сохраняется в зависимости от вопроса в 
воответсвующую таблицу. 
4) Затем заполняется вопрос про единицы измерения аналогичным образом. После этого записи о вопросах
удаляются из таблицы. (Либо потом в редис перенести). Суть в том, что только один вопрос может быть не 
отвеченным. И каждый раз при вводе пользователя бот будет пытаться подставить его ввод как ответ на 
тот не отвеченный вопрос. То есть, кейс:
Пользак начал создавать сущность, указал название, но не указал единицы измерения. Общение бота с ним повиснет на вопросе "Укажите единицы измерения". Если в течение суток с начала создания сущности пользак 
не введёт единицы измерения (т.е. не закончит создание сущности), все записи по вопросам по этому flow с 
ним удалятся, и сущность надо будет создавать заново. Пока логика такая. В последствии при необходимости 
можно будет сделать возможность отменить создание сущности самостоятельно по ходу, а так же 
приостановить его на время (хотя не думаю, что это вообще понадобится)

2-й вариант:


Flow по добавлению записи:
1) Нажимается кнопка "Продолжить" (возможно, нужны ещё способы входа в этот flow)
2) Открывается список, в котором представлены все сущности, которые отслеживает конкретный пользователь
3) Пользователем выбирается сущность
4) Высвечивается сообщение с ожиданием ввода от пользователя "Введите результат" (над формулировками 
ещё надо будет подумать)
5) Пользователь вводит и отправляет результат
6) Результат сохраняется в базе и пользователю приходит сообщение "Запись успешно добавлена" (возможно, 
никакого сообщения в конце добавления не нужно)



